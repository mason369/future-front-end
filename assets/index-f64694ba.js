import{b as a,e,i as t,u as s,w as l,k as n,p as r,l as i,m as d,c,v as o,a9 as f,C as u,s as m,o as p,ac as h,G as _,y as v,x as b,F as g,z as C,V as x,ag as y,_ as k,W as w,ah as I,a4 as L,a5 as V,a6 as j,a7 as M}from"./vendor-c19abe9d.js";import{F,_ as H,h as O,d as R,u as U,r as A,a as D}from"./index-c8bb9c1d.js";const P=a=>(r("data-v-b70f776a"),a=a(),i(),a),Z={class:"header-left-left"},q=P((()=>d("svg",{x:"0",y:"0",class:"icon-2xnN2Y","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24"},[d("path",{fill:"currentColor",d:"M12 2C6.486 2 2 6.486 2 12C2 17.515 6.486 22 12 22C14.039 22 15.993 21.398 17.652 20.259L16.521 18.611C15.195 19.519 13.633 20 12 20C7.589 20 4 16.411 4 12C4 7.589 7.589 4 12 4C16.411 4 20 7.589 20 12V12.782C20 14.17 19.402 15 18.4 15L18.398 15.018C18.338 15.005 18.273 15 18.209 15H18C17.437 15 16.6 14.182 16.6 13.631V12C16.6 9.464 14.537 7.4 12 7.4C9.463 7.4 7.4 9.463 7.4 12C7.4 14.537 9.463 16.6 12 16.6C13.234 16.6 14.35 16.106 15.177 15.313C15.826 16.269 16.93 17 18 17L18.002 16.981C18.064 16.994 18.129 17 18.195 17H18.4C20.552 17 22 15.306 22 12.782V12C22 6.486 17.514 2 12 2ZM12 14.599C10.566 14.599 9.4 13.433 9.4 11.999C9.4 10.565 10.566 9.399 12 9.399C13.434 9.399 14.6 10.565 14.6 11.999C14.6 13.433 13.434 14.599 12 14.599Z"})],-1))),z=P((()=>d("span",null,"JDSA Ling",-1))),B=H(a({__name:"HeaderLeft",setup:a=>(a,r)=>{const i=n;return e(),t("div",Z,[q,z,s(i,{"hide-after":0,enterable:!1,effect:"dark",content:"在线",placement:"bottom"},{default:l((()=>[s(F)])),_:1})])}}),[["__scopeId","data-v-b70f776a"]]),G=a=>(r("data-v-84ae6dba"),a=a(),i(),a),J={class:"header-right-right"},N=G((()=>d("span",null,[d("i",{class:"fa-solid fa-phone-volume"})],-1))),S=G((()=>d("span",null,[d("i",{class:"fa-solid fa-video"})],-1))),W=G((()=>d("span",null,[d("i",{class:"fa-solid fa-user-plus"})],-1))),Y=G((()=>d("div",{class:"search-box"},[d("input",{type:"text",placeholder:"搜索"}),d("i",{class:"fa-solid fa-search"})],-1))),E=G((()=>d("span",null,[d("i",{class:"fa-solid fa-inbox"})],-1))),K=G((()=>d("span",null,[d("i",{class:"fa-solid fa-circle-question"})],-1))),Q=H({},[["render",function(a,r){const i=n;return e(),t("div",J,[s(i,{"hide-after":0,class:"box-item",effect:"dark",content:"语音通话",placement:"bottom-end"},{default:l((()=>[N])),_:1}),s(i,{"hide-after":0,enterable:!1,effect:"dark",content:"视频通话",placement:"bottom"},{default:l((()=>[S])),_:1}),s(i,{"hide-after":0,enterable:!1,effect:"dark",content:"添加好友",placement:"bottom"},{default:l((()=>[W])),_:1}),Y,s(i,{"hide-after":0,enterable:!1,effect:"dark",content:"设置",placement:"bottom"},{default:l((()=>[E])),_:1}),s(i,{"hide-after":0,enterable:!1,effect:"dark",content:"帮助",placement:"bottom"},{default:l((()=>[K])),_:1})])}],["__scopeId","data-v-84ae6dba"]]),T=H({},[["render",function(a,t){const s=f;return e(),c(s,{class:"main-box-right-main2-main2"},{default:l((()=>[o("Main")])),_:1})}],["__scopeId","data-v-bf15f5fb"]]);Object.defineProperty,Object.getOwnPropertyDescriptor;let X=class{async getChatRecord(a){return await O.get("/chat/"+a)}};X=((a,e,t,s)=>{for(var l,n=e,r=a.length-1;r>=0;r--)(l=a[r])&&(n=l(n)||n);return n})([R],X);const $=new X,aa={class:"chat-record-list"},ea={class:"chat-record-list-item-left"},ta={class:"chat-record-list-item-right"},sa={class:"chat-record-list-item-right-top"},la={class:"chat-record-list-item-right-top-left"},na={class:"chat-record-list-item-right-bottom"},ra={class:"chat-search-box"},ia=H(a({__name:"Main",setup(a){const n=u(""),r=m({avatar:"",id:"",message:[],name:"",time:""}),i=m([]),L=U();p((()=>{L.getUserInfo()}));const V=()=>{},j=D((async a=>{if(!a)return;const{data:e}=await $.getChatRecord(a);r.avatar=e.avatar,r.id=e.id,r.name=e.name,r.time=e.time,i.splice(0,i.length,...e.message)}));return h((()=>A.currentRoute.value.params.id),(a=>{j(a)}),{immediate:!0}),(a,u)=>{const m=y,p=k,h=w,j=f;return e(),c(j,{class:"main-box-right-main2-main1"},{default:l((()=>[d("div",aa,[(e(!0),t(g,null,_(i,(a=>(e(),t("div",{class:"chat-record-list-item",key:a.messageId},[d("div",ea,[s(m,{src:"me"===a.messageFrom?r.avatar:v(L).getUserAvatar,alt:""},null,8,["src"])]),d("div",ta,[d("div",sa,[d("div",la,[d("span",null,b(r.name),1),d("span",null,b(a.time),1)])]),d("div",na,[d("p",null,b(a.content),1)])])])))),128))]),d("div",ra,[C(d("input",{placeholder:"消息@手动阀","onUpdate:modelValue":u[0]||(u[0]=a=>n.value=a),onClear:u[1]||(u[1]=a=>n.value="")},null,544),[[x,n.value]]),s(h,{type:"primary",onClick:V},{default:l((()=>[o("发送 "),s(p,null,{default:l((()=>[s(v(I))])),_:1})])),_:1})])])),_:1})}}}),[["__scopeId","data-v-f6ac9719"]]),da=H(a({__name:"index",setup:a=>(a,n)=>{const r=V,i=j,d=M,c=L;return e(),t("div",null,[s(c,null,{default:l((()=>[s(d,{class:"main-box-right-header2"},{default:l((()=>[s(i,null,{default:l((()=>[s(r,{span:15,class:"header-left"},{default:l((()=>[s(B)])),_:1}),s(r,{span:8,class:"header-right"},{default:l((()=>[s(Q)])),_:1})])),_:1})])),_:1}),s(i,{class:"main-box-right-main2"},{default:l((()=>[s(r,{span:17},{default:l((()=>[s(c,null,{default:l((()=>[s(ia)])),_:1})])),_:1}),s(r,{span:7},{default:l((()=>[s(c,null,{default:l((()=>[s(T)])),_:1})])),_:1})])),_:1})])),_:1})])}}),[["__scopeId","data-v-861f084f"]]);export{da as default};
